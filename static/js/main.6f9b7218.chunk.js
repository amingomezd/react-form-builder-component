(this["webpackJsonpform-builder-example"]=this["webpackJsonpform-builder-example"]||[]).push([[0],[,,function(e,t,a){e.exports=a(11)},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(3);var n=a(0),r=a.n(n),l=a(1),i=a.n(l),s=a(13);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e){var t=e.target;t.style.height="1px",t.style.height=25+t.scrollHeight+"px"}var u={formStub:{title:"Onboard New Employee",description:"FLowhart to onboard new employee to the organization",required:[],properties:{intro:{title:"Introduction",description:"This is a paragraph element. You can update me or add new form elements."}},ui:{intro:{widget:"paragraph"}},values:{}},propertyStub:{title:"Title",description:"",options:[]},uiStub:{widget:"input",autofocus:!1,className:""},widgets:["input","textarea","select","checkbox","radio","paragraph","header","hr"],inputClass:"form-control",checkboxClass:"form-check-input",checkboxWrapperClass:"form-check",inputWrapperClass:"form-group",btnClass:"btn"},m=function(e){var t=e.onSave,a=e.onChange,l=e.formState,i=Object(n.useState)(!1),m=i[0],d=i[1],b=Object(n.useState)(l||u.formStub),f=b[0],v=b[1],h=Object(n.useState)(!1),E=h[0],g=h[1],y=Object(n.useState)(),C=y[0],N=y[1];Object(n.useEffect)((function(){a&&a(f)}),[f]);var k=function(e){var t,a=e.target,n=a.name,r="checkbox"===a.type?a.checked:a.value;e.persist(),v(o({},f,((t={})[n]=r,t)))},x=function(e){var t=o({},f),a=e.name,n=e.title,r=e.description,l=e.widget,i=e.type,s=e.className,c=e.autofocus,u=e.required,m=e.options,p=w(m),d="hello";a&&(d=a),t.properties[d]={title:n,description:r,type:i,options:p},t.ui[d]={className:s,widget:l,autofocus:c},u&&!t.required.includes(d)&&t.required.push(d),v(t)},w=function(e){var t=e&&"string"===typeof e?e.split(/\r?\n/):[];return t.length>0?t.map((function(e){var t=e.includes(":",1)&&e.split(":");if(t){var a={};return a[t[0]]=t[1],a}return e})):t};return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Form Detail ",r.a.createElement("button",{className:u.btnClass+" btn"+(m?"":"-outline")+"-primary",onClick:function(){return d(!m)}},"{  }")," "),m&&r.a.createElement("textarea",{autoFocus:!0,onFocus:function(e){return c(e)},onKeyUp:function(e){return c(e)},className:"form-control",onChange:function(e){var t=e.target.value;v(JSON.parse(t))},value:JSON.stringify(f,void 0,4)}),!m&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Form Title"),r.a.createElement("input",{type:"text",className:u.inputClass,name:"title",onChange:k,value:f.title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{className:u.inputClass,name:"description",onChange:k,value:f.description})),r.a.createElement("h3",{className:"mt-3"},"Properties"),r.a.createElement("button",{className:u.btnClass+" btn"+(E?"":"-outline")+"-primary btn-block",onClick:function(){return g(!E),void N(null)}},r.a.createElement("i",{className:"fa fa-plus-circle"})," Add Property"),E&&r.a.createElement("div",{className:"bg-primary rounded p-2"},r.a.createElement(p,{onPropertySubmit:x,name:Object(s.a)()})),r.a.createElement("ul",{className:"list-unstyled border-top"},Object.keys(f.properties).map((function(e,t){return r.a.createElement("li",{key:e+t,className:"border p-2 rounded my-1 "+(C===e?"bg-primary":"")},r.a.createElement("span",{onClick:function(){return function(e){N(C&&C===e?null:e),g(!1)}(e)},className:"font-weight-bold btn-link btn "+(C===e?"text-white":"text-dark")},f.properties[e].title," ",C===e?"- Edit":""),r.a.createElement("button",{onClick:function(){return function(e){if(window.confirm('Remove this property "'+f.properties[e].title+'" ?')){var t=o({},f);delete t.properties[e],v(t)}}(e)},className:u.btnClass+"  float-right "+(C===e?"btn-primary":"btn-link")},"X"),C===e&&r.a.createElement(p,{onPropertySubmit:x,name:e,property:f.properties[e],required:f.required,ui:f.ui[e]}))})))),r.a.createElement("button",{type:"button",className:u.btnClass+" btn-primary",onClick:function(e){return t(e)}},"Save Form"))},p=function(e){var t=e.name,a=e.property,l=e.ui,i=e.onPropertySubmit,s=e.required,c=o({},a||u.propertyStub);Object.assign(c,l||u.uiStub),c.name||(c.name=t),c.required=!!s&&s.includes(t);var m=Object(n.useState)(c),p=m[0],d=m[1],b=Object(n.useState)(c)[0],f=function(e){var t,a=e.target,n=a.name,r="checkbox"===a.type?a.checked:a.value;e.persist(),d(o({},p,((t={})[n]=r,t)))};Object(n.useEffect)((function(){i(p)}),[p]);var v;return r.a.createElement("div",{className:"border p-3 bg-white rounded"},r.a.createElement("div",{className:""+u.inputWrapperClass},r.a.createElement("label",null,"Widget"),r.a.createElement("select",{className:""+u.inputClass,value:null===p||void 0===p?void 0:p.widget,name:"widget",onChange:f},u.widgets.map((function(e,t){return r.a.createElement("option",{key:e+t,value:e},e)})))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:u.inputWrapperClass+" col"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",value:null===p||void 0===p?void 0:p.title,name:"title",onChange:f,className:""+u.inputClass})),r.a.createElement("div",{className:u.inputWrapperClass+" col"},r.a.createElement("label",null,"Type"),r.a.createElement("input",{type:"text",value:null===p||void 0===p?void 0:p.type,name:"type",onChange:f,className:""+u.inputClass}))),r.a.createElement("div",{className:"form-row "+u.inputWrapperClass},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:""+u.checkboxWrapperClass},r.a.createElement("input",{type:"checkbox",name:"required",checked:null===p||void 0===p?void 0:p.required,onChange:f,className:""+u.checkboxClass,id:"required"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"required"},"Required"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:""+u.checkboxWrapperClass},r.a.createElement("input",{type:"checkbox",name:"autofocus",checked:null===p||void 0===p?void 0:p.autofocus,onChange:f,className:""+u.checkboxClass,id:"autofocus"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"autofocus"},"Autofocus")))),r.a.createElement("div",{className:""+u.inputWrapperClass},r.a.createElement("label",null,"Class Name"),r.a.createElement("input",{type:"text",value:null===p||void 0===p?void 0:p.className,onChange:f,name:"className",className:""+u.inputClass})),r.a.createElement("div",{className:""+u.inputWrapperClass},r.a.createElement("label",null,"Options ",r.a.createElement("small",null,"(Add options separated by new line)")),r.a.createElement("textarea",{className:""+u.inputClass,name:"options",onChange:f,value:p.options?(v=p.options,"string"===typeof v?v:v.length>0?v.map((function(e){return"object"===typeof e&&null!==e?Object.keys(e).map((function(t){return t+":"+e[t]})):"string"===typeof e||"number"===typeof e?e:void 0})).join("\n"):""):""})),r.a.createElement("div",{className:""+u.inputWrapperClass},r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{className:""+u.inputClass,name:"description",onChange:f,value:p.description?p.description:""})),r.a.createElement("button",{type:"button",className:u.btnClass+" btn-outline-warning btn-sm",onClick:function(){d(b)}},r.a.createElement("i",{className:"fa fa-history"})," Discard Changes"))},d=(a(10),function(){return r.a.createElement(m,{text:"Create React Library Example \ud83d\ude04"})});i.a.render(r.a.createElement(d,null),document.getElementById("root"))}],[[2,1,2]]]);
//# sourceMappingURL=main.6f9b7218.chunk.js.map